!function(){tinymce.create("tinymce.plugins.anspress",{init:function(a,b){a.on("SaveContent",function(a){a.content=a.content.replace(/<img([^>]+data-apimagename.*?[\w\W]+?)\/>/g,function(a,b){if(regex=/data-apimagename\=\"(.*)\"/g,apimagename=regex.exec(a),apimagename)return'{{apimage "'+apimagename[1]+'"}}'})}),a.addButton("apmedia",{title:a.getLang("anspress.i18n_insert_image"),icon:"image",onclick:function(){$form=jQuery(a.getElement()).closest("form"),$fieldname=jQuery(a.getElement()).attr("id")+"-images[]",AnsPress.trigger("openSelectImage",$form,$fieldname,function(b,c){a.insertContent('<img src="'+b+'" data-apimagename="'+c[0].name+'" />')})}})},createControl:function(a,b){return null}}),tinymce.PluginManager.add("anspress",tinymce.plugins.anspress)}();
//# sourceMappingURL=tinymce-plugin.min.js.map